(this["webpackJsonpmesto-react"]=this["webpackJsonpmesto-react"]||[]).push([[0],{30:function(e,t,n){},37:function(e,t,n){"use strict";n.r(t);var a=n(1),o=n.n(a),i=n(11),c=n(20),s=n.n(c),r=(n(30),n(24)),l=n(2),u=n(3),A=n(21),f=n(22),j=new(function(){function e(t){Object(A.a)(this,e),this.url=t.url,this.headers=t.headers}return Object(f.a)(e,[{key:"getUserInfo",value:function(){var e=localStorage.getItem("token");return fetch("".concat(this.url,"/users/me"),{headers:{authorization:"Bearer "+e,"Content-Type":"application/json"}}).then(this._checkResponse).then((function(e){return e}))}},{key:"getInitialCards",value:function(){var e=localStorage.getItem("token");return fetch("".concat(this.url,"/cards"),{headers:{authorization:"Bearer "+e,"Content-Type":"application/json"}}).then(this._checkResponse).then((function(e){return e}))}},{key:"setUser",value:function(e,t){var n=localStorage.getItem("token");return fetch("".concat(this.url,"/users/me"),{method:"PATCH",headers:{authorization:"Bearer "+n,"Content-Type":"application/json"},body:JSON.stringify({name:e,about:t})}).then(this._checkResponse)}},{key:"setCard",value:function(e,t){var n=localStorage.getItem("token");return fetch("".concat(this.url,"/cards"),{method:"POST",headers:{authorization:"Bearer "+n,"Content-Type":"application/json"},body:JSON.stringify({name:e,link:t})}).then(this._checkResponse)}},{key:"deleteCard",value:function(e){var t=localStorage.getItem("token");return fetch("".concat(this.url,"/cards/").concat(e),{method:"DELETE",headers:{authorization:"Bearer "+t,"Content-Type":"application/json"}}).then(this._checkResponse)}},{key:"putLike",value:function(e){var t=localStorage.getItem("token");return fetch("".concat(this.url,"/cards/").concat(e,"/likes"),{method:"PUT",headers:{authorization:"Bearer "+t,"Content-Type":"application/json"}}).then(this._checkResponse)}},{key:"deleteLike",value:function(e){var t=localStorage.getItem("token");return fetch("".concat(this.url,"/cards/").concat(e,"/likes"),{method:"DELETE",headers:{authorization:"Bearer "+t,"Content-Type":"application/json"}}).then(this._checkResponse)}},{key:"setAvatar",value:function(e){var t=localStorage.getItem("token");return fetch("".concat(this.url,"/users/me/avatar"),{method:"PATCH",headers:{authorization:"Bearer "+t,"Content-Type":"application/json"},body:JSON.stringify({avatar:e})}).then(this._checkResponse)}},{key:"_checkResponse",value:function(e){return e.ok?e.json():Promise.reject("\u041e\u0448\u0438\u0431\u043a\u0430 ".concat(e.status))}}]),e}())({url:"https://zomlesh.nomoredomains.club/api",headers:{authorization:"Bearer "+localStorage.getItem("token"),"Content-Type":"application/json"}}),p=n.p+"static/media/logo.bbe2a6ea.svg",b=n(0);var m=function(e){var t=e.loggedIn,n=e.email,a=e.signOut,o=e.loginPage,i=e.linkTo,c=e.openMobileMenu,s=e.isOpenMobileMenu;return Object(b.jsx)("ul",{className:"header__menu",children:t?Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("li",{onClick:c,className:"mobileMenu__burger",children:s?Object(b.jsx)("button",{onClick:c,className:"mobileMenu__close"}):Object(b.jsx)("span",{})}),Object(b.jsx)("li",{className:"header__mail",children:n}),Object(b.jsx)("li",{children:Object(b.jsx)("button",{onClick:a,className:"header__button header__button_isLogin",children:"\u0412\u044b\u0439\u0442\u0438"})})]}):Object(b.jsx)("li",{children:Object(b.jsx)("button",{onClick:i,className:"header__button",children:o?"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f":"\u0412\u043e\u0439\u0442\u0438"})})})};var d=function(e){var t=e.loggedIn,n=e.email,a=e.signOut,o=e.loginPage,i=e.setLoginPage,c=e.linkTo,s=e.openMobileMenu,r=e.isOpenMobileMenu;return Object(b.jsxs)("header",{className:"header section",children:[Object(b.jsx)("a",{href:"/",target:"_self",children:Object(b.jsx)("img",{src:p,className:"header__logo",alt:"\u043b\u043e\u0433\u043e\u0442\u0438\u043f Mesto Russia"})}),Object(b.jsx)(m,{email:n,signOut:a,loggedIn:t,loginPage:o,setLoginPage:i,linkTo:c,openMobileMenu:s,isOpenMobileMenu:r})]})},h=o.a.createContext();var g=function(e){var t=e.id,n=e.link,a=e.name,i=e.likes,c=e.ownerId,s=e.onCardClick,r=e.openPic,l=e.onCardLike,u=e.onCardDelete,A=(e.onConfirmDelete,o.a.useContext(h)),f=c===A._id,j=i.some((function(e){return e===A._id})),p="element__trash ".concat(f?"element__trash_visible":""),m="element__like ".concat(j?"element__like_black":"");return Object(b.jsxs)("article",{className:"element",children:[Object(b.jsx)("a",{href:"##",target:"_self",children:Object(b.jsx)("img",{src:n,alt:a,onClick:function(){r(),s({link:n,name:a,id:t})},className:"element__image"})}),Object(b.jsx)("button",{type:"button",className:p,onClick:function(){u({id:t})}}),Object(b.jsxs)("div",{className:"element__text",children:[Object(b.jsx)("h2",{className:"element__heading",children:a}),Object(b.jsxs)("div",{className:"element__likes",children:[Object(b.jsx)("button",{type:"button",onClick:function(){l({id:t,likes:i})},className:m}),Object(b.jsx)("p",{className:"element__likeCount",children:i.length})]})]})]})};var x=function(e){var t=e.onEditAvatar,n=e.onEditProfile,a=e.onAddPlace,i=e.dataImage,c=e.openPopImage,s=e.cards,r=e.onCardLike,l=e.onCardDelete,u=e.onConfirmDelete,A=o.a.useContext(h);return Object(b.jsxs)("main",{className:"content section",children:[Object(b.jsxs)("section",{className:"profile",children:[Object(b.jsx)("div",{className:"profile__image",style:{backgroundImage:"url(".concat(A.avatar,")")},children:Object(b.jsx)("div",{onClick:t,className:"profile__imageEdit"})}),Object(b.jsxs)("div",{className:"profile__info",children:[Object(b.jsx)("h1",{className:"profile__heading",children:A.name}),Object(b.jsx)("button",{type:"button",onClick:n,className:"profile__button-edit"}),Object(b.jsx)("p",{className:"profile__subheading",children:A.about})]}),Object(b.jsx)("button",{type:"button",onClick:a,className:"profile__button-add"})]}),Object(b.jsx)("section",{className:"elements",children:s.map((function(e){return Object(b.jsx)(g,{id:e._id,name:e.name,link:e.link,likes:e.likes,ownerId:e.owner,onCardClick:i,openPic:c,onCardLike:r,onCardDelete:l,onConfirmDelete:u},e._id)}))})]})};var v=function(){return Object(b.jsx)("footer",{className:"footer section",children:Object(b.jsxs)("p",{className:"footer__copyright",children:["\xa9 ",(new Date).getFullYear()," Mesto Russia"]})})};var O=function(e){var t=e.card,n=e.onClose,a=e.isOpen;return Object(b.jsx)("div",{className:"popup popupImg  ".concat(a?"popup_opened":""),id:"bigImage",children:Object(b.jsxs)("div",{className:"popup__imageContainer",children:[Object(b.jsx)("img",{src:t.link,alt:t.name,className:"popup__image"}),Object(b.jsx)("button",{type:"button",onClick:n,className:"popup__close"}),Object(b.jsx)("p",{className:"popup__imageName",children:t.name})]})})};var w=function(e){var t=e.isOpen,n=e.name,a=e.onClose,o=e.title,i=e.submit,c=e.nameForm,s=e.classNameForm,r=e.idForm,l=e.children,u=e.onSubmit;return Object(b.jsx)("div",{className:"popup ".concat(t?"popup_opened":""),id:"#".concat(n),children:Object(b.jsxs)("div",{className:"popup__container",children:[Object(b.jsx)("button",{type:"button",onClick:a,className:"popup__close"}),Object(b.jsx)("h3",{className:"popup__heading",children:o}),Object(b.jsxs)("form",{name:c,className:s,id:r,onSubmit:u,children:[l,Object(b.jsx)("button",{type:"submit",value:i,className:"input__save",children:i})]})]})})};var N=function(e){var t=e.isOpen,n=e.onClose,i=e.onUpdateUser,c=o.a.useContext(h),s=Object(a.useState)(""),r=Object(l.a)(s,2),u=r[0],A=r[1],f=Object(a.useState)(""),j=Object(l.a)(f,2),p=j[0],m=j[1];return Object(a.useEffect)((function(){A(c.name),m(c.about)}),[c,t]),Object(b.jsxs)(w,{name:"profile",title:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043f\u0440\u043e\u0444\u0438\u043b\u044c",submit:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c",isOpen:t,onClose:n,onSubmit:function(e){e.preventDefault(),i({name:u,about:p})},nameForm:"changeProfile",classNameForm:"input input_profile",idForm:"profileForm",children:[Object(b.jsx)("input",{type:"text",name:"nameSubject",id:"nameSubject",value:u||"",onChange:function(e){A(e.target.value)},className:"input__text input__text_text_name",minLength:"2",maxLength:"40",required:!0}),Object(b.jsx)("span",{className:"input__text-error nameSubject-error"}),Object(b.jsx)("input",{type:"text",name:"careerSubject",id:"careerSubject",value:p||"",onChange:function(e){m(e.target.value)},className:"input__text input__text_text_career",minLength:"2",maxLength:"200",required:!0}),Object(b.jsx)("span",{className:"input__text-error careerSubject-error",children:" "})]})};var C=function(e){var t=e.isOpen,n=e.onClose,o=e.onUpdateAvatar,i=Object(a.useRef)();return Object(b.jsxs)(w,{name:"avatar",title:"\u041e\u0431\u043d\u043e\u0432\u0438\u0442\u044c \u0430\u0432\u0430\u0442\u0430\u0440",submit:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c",isOpen:t,onClose:n,onSubmit:function(e){e.preventDefault(),o({avatar:i.current.value}),i.current.value=""},nameForm:"addCard",classNameForm:"input input_card",idForm:"addAva",children:[Object(b.jsx)("input",{type:"url",name:"linkElement",id:"linkAva",ref:i,placeholder:"\u0421\u0441\u044b\u043b\u043a\u0430 \u043d\u0430 \u0430\u0432\u0430\u0442\u0430\u0440",className:"input__text input__text_text_link",required:!0}),Object(b.jsx)("span",{className:"input__text-error linkAva-error",children:" "})]})};var B=function(e){var t=e.isOpen,n=e.onClose,o=e.onAddPlace,i=Object(a.useState)(""),c=Object(l.a)(i,2),s=c[0],r=c[1],u=Object(a.useState)(""),A=Object(l.a)(u,2),f=A[0],j=A[1];return Object(b.jsxs)(w,{name:"cards",title:"\u041d\u043e\u0432\u043e\u0435 \u043c\u0435\u0441\u0442\u043e",submit:"\u0421\u043e\u0437\u0434\u0430\u0442\u044c",isOpen:t,onClose:n,onSubmit:function(e){e.preventDefault(),o({name:s,link:f}),j(""),r("")},nameForm:"addCard",classNameForm:"input input_card",idForm:"addForm",children:[Object(b.jsx)("input",{type:"text",name:"nameElement",id:"nameElement",value:s,onChange:function(e){r(e.target.value)},placeholder:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435",className:"input__text input__text_text_element",minLength:"2",maxLength:"30",required:!0}),Object(b.jsx)("span",{className:"input__text-error nameElement-error"}),Object(b.jsx)("input",{type:"url",name:"linkElement",id:"linkElement",value:f,onChange:function(e){j(e.target.value)},placeholder:"\u0421\u0441\u044b\u043b\u043a\u0430 \u043d\u0430 \u043a\u0430\u0440\u0442\u0438\u043d\u043a\u0443",className:"input__text input__text_text_link",required:!0}),Object(b.jsx)("span",{className:"input__text-error linkElement-error",children:" "})]})},P=n.p+"static/media/not_icon.ed31265c.jpg";var E=function(e){var t=e.isOpen,n=e.onClose,a=e.name,o=e.isAuth;return Object(b.jsx)("div",{className:"popup ".concat(t?"popup_opened":""),id:"#".concat(a),children:Object(b.jsxs)("div",{className:"popup__container infoTooltip",children:[Object(b.jsx)("button",{type:"button",onClick:n,className:"popup__close"}),o?Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("img",{className:"popup__tooltip",src:"data:image/jpeg;base64,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",alt:"\u0423\u0441\u043f\u0435\u0448\u043d\u0430\u044f \u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f"}),Object(b.jsx)("h3",{className:"popup__heading",children:"\u0412\u044b \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0437\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u043b\u0438\u0441\u044c!"})]}):Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("img",{className:"popup__tooltip",src:P,alt:"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f \u043d\u0435 \u0443\u0434\u0430\u043b\u0430\u0441\u044c"}),Object(b.jsx)("h3",{className:"popup__heading",children:"\u0427\u0442\u043e-\u0442\u043e \u043f\u043e\u0448\u043b\u043e \u043d\u0435 \u0442\u0430\u043a! \u041f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u0435\u0449\u0435 \u0440\u0430\u0437."})]})]})})};var _=function(e){var t=e.isOpen,n=e.onClose,a=e.onCardDelete;return Object(b.jsx)(w,{name:"confirmDelete",title:"\u0412\u044b \u0443\u0432\u0435\u0440\u0435\u043d\u044b?",submit:"\u0414\u0430",onCardDelete:a,isOpen:t,onClose:n,onSubmit:function(e){e.preventDefault()},children:Object(b.jsx)("button",{type:"button",onClick:n,className:"popup__close"})})},F=n(10),k=n(8);var L=function(e){var t=e.onLogin,n=Object(a.useState)({email:"",password:""}),o=Object(l.a)(n,2),i=o[0],c=o[1];function s(e){c(Object(k.a)(Object(k.a)({},i),{},Object(F.a)({},e.target.name,e.target.value)))}return Object(b.jsxs)("div",{className:"login__container",children:[Object(b.jsx)("h3",{className:"login__heading",children:"\u0412\u0445\u043e\u0434"}),Object(b.jsxs)("form",{name:"auth__form",onSubmit:function(e){e.preventDefault(),t(i)},children:[Object(b.jsx)("input",{type:"email",name:"email",onChange:s,value:i.email,placeholder:"Email",className:"login__input login__input_email",minLength:"2",maxLength:"30",required:!0}),Object(b.jsx)("input",{type:"password",name:"password",onChange:s,value:i.password,placeholder:"\u041f\u0430\u0440\u043e\u043b\u044c",className:"login__input login__input_password",minLength:"6",required:!0}),Object(b.jsx)("button",{type:"submit",className:"login__save",children:"\u0412\u043e\u0439\u0442\u0438"})]})]})};var S=function(e){var t=e.onRegister,n=e.setLoginPage,o=Object(a.useState)({email:"",password:""}),i=Object(l.a)(o,2),c=i[0],s=i[1],r=Object(u.g)();function A(e){s(Object(k.a)(Object(k.a)({},c),{},Object(F.a)({},e.target.name,e.target.value)))}return Object(b.jsxs)("div",{className:"login__container",children:[Object(b.jsx)("h3",{className:"login__heading",children:"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f"}),Object(b.jsxs)("form",{name:"register__form",onSubmit:function(e){e.preventDefault(),t(c)},children:[Object(b.jsx)("input",{type:"email",name:"email",onChange:A,value:c.email,placeholder:"Email",className:"login__input login__input_email",minLength:"2",maxLength:"30",required:!0}),Object(b.jsx)("input",{type:"password",name:"password",onChange:A,value:c.password,placeholder:"\u041f\u0430\u0440\u043e\u043b\u044c",className:"login__input login__input_password",required:!0}),Object(b.jsx)("button",{type:"submit",className:"login__save",children:"\u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f"})]}),Object(b.jsxs)("p",{className:"login__logged",children:["\u0423\u0436\u0435 \u0437\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u043d\u044b?",Object(b.jsx)("button",{onClick:function(){r.push("/sign-in"),n(!0)},className:"login__button",children:" \u0412\u043e\u0439\u0442\u0438"})]})]})},D=n(25),Q=function(e){var t=e.component,n=e.loggedIn,a=Object(D.a)(e,["component","loggedIn"]);return Object(b.jsx)(u.b,{children:function(){return n?Object(b.jsx)(t,Object(k.a)({},a)):Object(b.jsx)(u.a,{to:"./sign-in"})}})},T="https://zomlesh.nomoredomains.club/api",H=function(e){return e.ok?e.json():Promise.reject(new Error("\u041e\u0448\u0438\u0431\u043a\u0430 ".concat(e.status,": ").concat(e.statusText)))},X={Accept:"application/json","Content-Type":"application/json"};var R=function(e){var t=e.loggedIn,n=e.email,a=e.signOut,o=e.isOpenMobileMenu;return t&&Object(b.jsx)("ul",{className:"mobileMenu ".concat(o?"mobileMenu_active":""),children:Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("li",{className:"mobileMenu__mail",children:n}),Object(b.jsx)("li",{children:Object(b.jsx)("button",{onClick:a,className:"mobileMenu__button",children:"\u0412\u044b\u0439\u0442\u0438"})})]})})};var I=function(){var e=Object(u.g)(),t=Object(a.useState)(!1),n=Object(l.a)(t,2),o=n[0],i=n[1],c=Object(a.useState)(!1),s=Object(l.a)(c,2),A=s[0],f=s[1],p=Object(a.useState)(!1),m=Object(l.a)(p,2),g=m[0],w=m[1],P=Object(a.useState)(!1),F=Object(l.a)(P,2),D=F[0],I=F[1],W=Object(a.useState)(!1),G=Object(l.a)(W,2),q=G[0],J=G[1],U=Object(a.useState)({}),K=Object(l.a)(U,2),y=K[0],z=K[1],Z=Object(a.useState)({}),V=Object(l.a)(Z,2),M=V[0],Y=V[1],$=Object(a.useState)(!1),ee=Object(l.a)($,2),te=ee[0],ne=ee[1],ae=Object(a.useState)(""),oe=Object(l.a)(ae,2),ie=oe[0],ce=oe[1],se=Object(a.useState)(!0),re=Object(l.a)(se,2),le=re[0],ue=re[1],Ae=Object(a.useState)(!0),fe=Object(l.a)(Ae,2),je=fe[0],pe=fe[1],be=Object(a.useState)(!1),me=Object(l.a)(be,2),de=me[0],he=me[1],ge=Object(a.useState)(!1),xe=Object(l.a)(ge,2),ve=xe[0],Oe=xe[1],we=Object(a.useState)([]),Ne=Object(l.a)(we,2),Ce=Ne[0],Be=Ne[1],Pe=function(){i(!1),f(!1),w(!1),I(!1),J(!1),Oe(!1),pe(!0)};function Ee(){var t=localStorage.getItem("token");t&&function(e){return fetch("".concat(T,"/users/me"),{headers:Object(k.a)(Object(k.a)({},X),{},{Authorization:"Bearer ".concat(e)})}).then((function(e){return H(e)}))}(t).then((function(t){t&&(ce(t.email),ne(!0),e.push("/"))})).then((function(){j.getUserInfo().then((function(e){Y(e)})).catch((function(e){console.log(e)}))})).then((function(){j.getInitialCards().then((function(e){Be(e)})).catch((function(e){console.log(e)}))})).catch((function(e){console.log(e)}))}function _e(e){var t=e.id;j.deleteCard(t).then((function(){Be((function(e){return e.filter((function(e){return e._id!==t}))}))})).catch((function(e){console.log(e)}))}Object(a.useEffect)((function(){Ee()}),[]);var Fe=function(){localStorage.removeItem("token"),ne(!1),e.push("/sign-in"),ue(!0)};function ke(){le?(e.push("/sign-up"),ue(!1)):(e.push("/sign-in"),ue(!0))}return Object(b.jsx)("div",{className:"page",children:Object(b.jsx)("div",{className:"page__container",children:Object(b.jsxs)(h.Provider,{value:M,children:[Object(b.jsx)(R,{loggedIn:te,email:ie,signOut:Fe,loginPage:le,setLoginPage:ue,linkTo:ke,isOpenMobileMenu:de}),Object(b.jsx)(d,{loggedIn:te,email:ie,signOut:Fe,loginPage:le,setLoginPage:ue,linkTo:ke,openMobileMenu:function(){he(!de)},isOpenMobileMenu:de}),Object(b.jsxs)(u.d,{children:[Object(b.jsx)(u.b,{exact:!0,path:"/sign-up",children:Object(b.jsx)(S,{onRegister:function(t){(function(e){var t=e.email,n=e.password;return fetch("".concat(T,"/signup"),{method:"POST",headers:X,body:JSON.stringify({email:t,password:n})}).then((function(e){return H(e)}))})(t).then((function(t){t&&(J(!0),e.push("/sign-in"),ue(!0))})).catch((function(e){pe(!1),J(!0)}))},setLoginPage:ue})}),Object(b.jsx)(u.b,{exact:!0,path:"/sign-in",children:Object(b.jsx)(L,{onLogin:function(e){(function(e){var t=e.email,n=e.password;return fetch("".concat(T,"/signin"),{method:"POST",headers:X,body:JSON.stringify({email:t,password:n})}).then((function(e){return H(e)}))})(e).then((function(e){e.token&&(localStorage.setItem("token",e.token),Ee())})).catch((function(e){pe(!1),J(!0)}))}})}),Object(b.jsx)(Q,{exact:!0,path:"/",component:x,loggedIn:te,onEditProfile:function(){i(!0)},onAddPlace:function(){w(!0)},onEditAvatar:function(){f(!0)},dataImage:z,openPopImage:function(){I(!0)},cards:Ce,onCardLike:function(e){var t=e.id;(e.likes.some((function(e){return e===M._id}))?j.deleteLike(t):j.putLike(t)).then((function(e){Be((function(n){return n.map((function(n){return n._id===t?e:n}))}))})).catch((function(e){console.log(e)}))},onCardDelete:_e,onConfirmDelete:function(){Oe(!0)}}),Object(b.jsx)(u.b,{children:te?Object(b.jsx)(u.a,{to:"/"}):Object(b.jsx)(u.a,{to:"/sign-in"})})]}),Object(b.jsx)(v,{}),Object(b.jsx)(B,{isOpen:g,onClose:Pe,onAddPlace:function(e){var t=e.name,n=e.link;j.setCard(t,n).then((function(e){Be([e].concat(Object(r.a)(Ce))),Pe()})).catch((function(e){console.log(e)}))}}),Object(b.jsx)(N,{isOpen:o,onClose:Pe,onUpdateUser:function(e){var t=e.name,n=e.about;j.setUser(t,n).then((function(e){Y(e),Pe()})).catch((function(e){console.log(e)}))}}),Object(b.jsx)(_,{isOpen:ve,onClose:Pe,onCardDelete:_e}),Object(b.jsx)(C,{isOpen:A,onClose:Pe,onUpdateAvatar:function(e){var t=e.avatar;j.setAvatar(t).then((function(e){Y(e),Pe()})).catch((function(e){console.log(e)}))}}),Object(b.jsx)(O,{card:y,onClose:Pe,isOpen:D}),Object(b.jsx)(E,{isOpen:q,onClose:Pe,isAuth:je})]})})})},W=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,38)).then((function(t){var n=t.getCLS,a=t.getFID,o=t.getFCP,i=t.getLCP,c=t.getTTFB;n(e),a(e),o(e),i(e),c(e)}))};s.a.render(Object(b.jsx)(o.a.StrictMode,{children:Object(b.jsx)(i.a,{children:Object(b.jsx)(I,{})})}),document.getElementById("root")),W()}},[[37,1,2]]]);
//# sourceMappingURL=main.3c32bcd4.chunk.js.map